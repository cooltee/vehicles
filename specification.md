

# 开发规范(Development specification)

> 在研究项目团队协作开发的情况下，编程时应该强调的一个重要方面是程序的易读性。

> 若研究项目小组的所有开发人员都遵循统一的、鲜明的一套编程风格，可以让协作者、后继者和自己一目了然，在很短的时间内看清楚程序结构，理解设计的思路，大大提高
代码的可读性、可重用性、程序健壮性、可移植性、可维护性。

> 制定本编程规范的目的是为了提高软件开发效率及所开发软件的可维护性，提高软件的质量。


## 0.代码层次

* 代码按照MVC三层架构编写；

* Action层：处理页面传参，和返回值的处理（包括异常和提示信息）；

* Service层：各种业务逻辑；

* DAO层：与数据库交互，数据处理；

## 1.命名规范

### 1.1 变量名

* 变量名需使用名词词性英文，使用较专业内用于，长度保持在15个字符内；

    例如：描述计算机使用端`客户`应为`client`而不是`custom`

* 变量名包含多个单词应采用驼峰命名，第一个单词应首字母小写，后面的单词首字母大写；
     
    例如：正确写法`sendMessge`，错误写法`send_message` 

* 常量的名字应该都使用大写字母，并且指出该常量完整含义。如果一个常量名称由多个单词组成，则应该用下划线来分割这些单词；

    例如： `MAX_VALUE`

### 1.2 方法名

* 方法名需使用动词词性英文，描述方法的动作

* 遵从驼峰命名，同变量名

## 2.编码规范

### 2.1 编码排版上规范

* 缩进统一使用四个空格，关键字、变量、运算符之间使用一个空格

例如：
正确写法

        String sendMessage = request.getParameter("sendMessage");

错误写法

        String sendMessage           = request.getParameter("sendMessage");
    
* 代码中注意删除未使用的变量及导入

### 2.2 编码技巧

* 相比String，对字符串进行连接操作的话.使用StringBuffer性能会更好

* equals判断问题!ware.getWareDx().equals("")不能这么写，应该!"".equals(ware.getWareDx())

* 在代码中 尽量不要出现黄叹号，尽量不要使用压制。eg:集合的泛型

        List<Class> list = new ArrayList<Class>();
 
* 在JSP页面中如果涉及到数字的比较，直接获得数据之后，最好使用Number()强制转换一下之后在进行比较大小

## 3.注释

### 3.1 文档注释
采用
       
        /**
         *
         */

#### 类注释

* 对类的描述说明

#### 接口注释

* 描述方法的用途；

* 描述方法的每个传入参数；

* 描述方法的返回值
    
### 3.2 文本注释
采用

        //单行注释
 与
         
        /*
         * 多行注释
         */

* 对冗长代码段作解释说明

* 记录设计思路

### 配置文件的注释

往配置文件加注释的时候，一定要严格按照注释使用的格式（不同的配置文件，不一样），不要随意在注释前加字符。本地也许会没有问题，但是到了线上，就会出现问题。
eg: sh脚本的注释使用

    #解释命令的注释
    command [option]
    
## 4.异常处理

* 异常的抛出：DAO和Service的异常抛出，一定要抛出到Action层，打印日志

* 异常的处理：Action层捕获处理异常，打印日志

## 5.日志规范

日志的记录

* 处理或抛出异常时打印error日志

* 调用接口等打印info日志，便于调试

## 6.任务规范

注意使用`TODO`、`FIXME`等Task标签标记代码

## 7.单元测试

* 使用JUnit+Jmockit测试框架

* 使用断言

* 保证测试覆盖率

## 8.代码重构

代码冗余存在重构的必要时，在业务规则清晰，代码调用清晰，单元测试完毕的情况，可以进行重构，重构代码必须经过开发、测试、需求的审核。

## 9.提交代码

* 代码先更新，在提交，保证没有冲突

* 提测代码前，一定要对代码进行完整的自测

* 提交时，对比本地代码与远程代码的改动，确定无错误后再提交，提交以功能点划分，注意备注修改的内容